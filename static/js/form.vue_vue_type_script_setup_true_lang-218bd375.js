import{d as I,a7 as R,r as m,b as t,e as n,c as p,w as s,f as r,a9 as f,k as C,F as N,l as B,g as q,C as G}from"./index-9b6c3733.js";const L=I({__name:"form",props:{formInline:{default:()=>({username:"",email:"",password:"",confirmPassword:"",groupIds:"",status:1})},allGroups:{default:()=>[]},isEdited:{type:Boolean,default:!1}},setup(g,{expose:P}){const w=g,b=R({password:[{validator:(d,e="",o)=>{e===""?o(new Error("请输入密码")):e.length<6?o(new Error("密码长度不能少于6位数")):o()},trigger:"blur",required:!0}],username:[{validator:(d,e,o)=>{e||o(new Error("用户名不能为空")),o()},trigger:["blur","change"],required:!0}],confirmPassword:[{validator:(d,e="",o)=>{e===""?o(new Error("请再次输入密码")):e!==a.value.password?o(new Error("两次输入密码不一致!")):o()},trigger:"blur",required:!0}]}),v=m(),c=m(),i=m(0),a=m(w.formInline),y=m(w.allGroups);function E(){return v.value}function U(){return c.value}return P({getUserInfoRef:E,getPwdRef:U,activeTab:i}),(d,e)=>{const o=t("el-input"),u=t("el-form-item"),k=t("el-checkbox"),x=t("el-checkbox-group"),V=t("el-form"),_=t("el-tab-pane"),F=t("el-tabs");return n(),p(F,{modelValue:i.value,"onUpdate:modelValue":e[8]||(e[8]=l=>i.value=l)},{default:s(()=>[r(_,{label:"用户信息",name:0},{default:s(()=>[r(V,{ref_key:"ruleFormRef",ref:v,model:a.value,rules:b,"label-width":"82px"},{default:s(()=>[r(u,{label:"用户名",prop:"username"},{default:s(()=>[r(o,{modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.username=l),clearable:"",disabled:d.isEdited,placeholder:"请输入用户名"},null,8,["modelValue","disabled"])]),_:1}),r(u,{label:"邮箱",prop:"email"},{default:s(()=>[r(o,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.email=l),clearable:"",placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),d.isEdited?f("",!0):(n(),p(u,{key:0,label:"密码",prop:"password"},{default:s(()=>[r(o,{modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.password=l),clearable:"","auto-complete":"new-password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})),d.isEdited?f("",!0):(n(),p(u,{key:1,label:"确认密码",prop:"confirmPassword"},{default:s(()=>[r(o,{modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.confirmPassword=l),clearable:"",type:"password","auto-complete":"new-password",placeholder:"请输入确认密码"},null,8,["modelValue"])]),_:1})),r(u,{label:"选择分组"},{default:s(()=>[r(x,{modelValue:a.value.groupIds,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.groupIds=l),size:"small",style:{transform:"translateY(5px)"}},{default:s(()=>[(n(!0),C(N,null,B(y.value,l=>(n(),p(k,{key:l.id,label:l.id,border:"",style:{"margin-left":"0"}},{default:s(()=>[q(G(l.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),d.isEdited?(n(),p(_,{key:0,label:"修改密码",name:1},{default:s(()=>[r(V,{ref_key:"ruleFormPwdRef",ref:c,model:a.value,rules:b,"label-width":"82px"},{default:s(()=>[r(u,{label:"用户名",prop:"username"},{default:s(()=>[r(o,{modelValue:a.value.username,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.username=l),clearable:"",disabled:d.isEdited,placeholder:"请输入用户名"},null,8,["modelValue","disabled"])]),_:1}),r(u,{label:"密码",prop:"password"},{default:s(()=>[r(o,{modelValue:a.value.password,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.password=l),clearable:"","auto-complete":"new-password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),r(u,{label:"确认密码",prop:"confirmPassword"},{default:s(()=>[r(o,{modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.confirmPassword=l),clearable:"",type:"password","auto-complete":"new-password",placeholder:"请输入确认密码"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1})):f("",!0)]),_:1},8,["modelValue"])}}});export{L as _};
